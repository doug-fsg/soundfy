{"remainingRequest":"C:\\teste-login\\node_modules\\babel-loader\\lib\\index.js!C:\\teste-login\\node_modules\\eslint-loader\\index.js??ref--12-0!C:\\teste-login\\src\\track\\states\\SelectState.js","dependencies":[{"path":"C:\\teste-login\\src\\track\\states\\SelectState.js","mtime":1712449241434},{"path":"C:\\teste-login\\babel.config.js","mtime":1713903577360},{"path":"C:\\teste-login\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713973011099},{"path":"C:\\teste-login\\node_modules\\babel-loader\\lib\\index.js","mtime":1713973011327},{"path":"C:\\teste-login\\node_modules\\eslint-loader\\index.js","mtime":1713973006832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi90ZXN0ZS1sb2dpbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L3Rlc3RlLWxvZ2luL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCB7IHBpeGVsc1RvU2Vjb25kcyB9IGZyb20gIi4uLy4uL3V0aWxzL2NvbnZlcnNpb25zIjsKaW1wb3J0IHsgZ2V0WE9mZnNldE9uVG91Y2hFdmVudCB9IGZyb20gIi4uLy4uL3V0aWxzL21vYmlsZXMiOwp2YXIgX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIF9kZWZhdWx0KHRyYWNrKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2RlZmF1bHQpOwogICAgdGhpcy50cmFjayA9IHRyYWNrOwogICAgdGhpcy5hY3RpdmUgPSBmYWxzZTsKICB9CiAgcmV0dXJuIF9jcmVhdGVDbGFzcyhfZGVmYXVsdCwgW3sKICAgIGtleTogInNldHVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cChzYW1wbGVzUGVyUGl4ZWwsIHNhbXBsZVJhdGUpIHsKICAgICAgdGhpcy5zYW1wbGVzUGVyUGl4ZWwgPSBzYW1wbGVzUGVyUGl4ZWw7CiAgICAgIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZW1pdFNlbGVjdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdFNlbGVjdGlvbih4KSB7CiAgICAgIHZhciBtaW5YID0gTWF0aC5taW4oeCwgdGhpcy5zdGFydFgpOwogICAgICB2YXIgbWF4WCA9IE1hdGgubWF4KHgsIHRoaXMuc3RhcnRYKTsKICAgICAgdmFyIHN0YXJ0VGltZSA9IHBpeGVsc1RvU2Vjb25kcyhtaW5YLCB0aGlzLnNhbXBsZXNQZXJQaXhlbCwgdGhpcy5zYW1wbGVSYXRlKTsKICAgICAgdmFyIGVuZFRpbWUgPSBwaXhlbHNUb1NlY29uZHMobWF4WCwgdGhpcy5zYW1wbGVzUGVyUGl4ZWwsIHRoaXMuc2FtcGxlUmF0ZSk7CiAgICAgIHRoaXMudHJhY2suZWUuZW1pdCgic2VsZWN0Iiwgc3RhcnRUaW1lLCBlbmRUaW1lLCB0aGlzLnRyYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb21wbGV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGxldGUoeCkgewogICAgICB0aGlzLmVtaXRTZWxlY3Rpb24oeCk7CiAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAibW91c2Vkb3duIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VzZWRvd24oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTsKICAgICAgdGhpcy5zdGFydFggPSBlLm9mZnNldFg7CiAgICAgIHZhciBzdGFydFRpbWUgPSBwaXhlbHNUb1NlY29uZHModGhpcy5zdGFydFgsIHRoaXMuc2FtcGxlc1BlclBpeGVsLCB0aGlzLnNhbXBsZVJhdGUpOwogICAgICB0aGlzLnRyYWNrLmVlLmVtaXQoInNlbGVjdCIsIHN0YXJ0VGltZSwgc3RhcnRUaW1lLCB0aGlzLnRyYWNrKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b3VjaHN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b3VjaHN0YXJ0KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgb2Zmc2V0WCA9IGdldFhPZmZzZXRPblRvdWNoRXZlbnQoZSk7CiAgICAgIGlmIChvZmZzZXRYKSB7CiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlOwogICAgICAgIHRoaXMuc3RhcnRYID0gb2Zmc2V0WDsKICAgICAgICB2YXIgc3RhcnRUaW1lID0gcGl4ZWxzVG9TZWNvbmRzKHRoaXMuc3RhcnRYLCB0aGlzLnNhbXBsZXNQZXJQaXhlbCwgdGhpcy5zYW1wbGVSYXRlKTsKICAgICAgICB0aGlzLnRyYWNrLmVlLmVtaXQoInNlbGVjdCIsIHN0YXJ0VGltZSwgc3RhcnRUaW1lLCB0aGlzLnRyYWNrKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIm1vdXNlbW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91c2Vtb3ZlKGUpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHRoaXMuZW1pdFNlbGVjdGlvbihlLm9mZnNldFgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAidG91Y2htb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b3VjaG1vdmUoZSkgewogICAgICBpZiAodGhpcy5hY3RpdmUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIG9mZnNldFggPSBnZXRYT2Zmc2V0T25Ub3VjaEV2ZW50KGUpOwogICAgICAgIGlmIChvZmZzZXRYKSB0aGlzLmVtaXRTZWxlY3Rpb24ob2Zmc2V0WCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb3VzZXVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VzZXVwKGUpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHRoaXMuY29tcGxldGUoZS5vZmZzZXRYKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIm1vdXNlbGVhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdXNlbGVhdmUoZSkgewogICAgICBpZiAodGhpcy5hY3RpdmUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdGhpcy5jb21wbGV0ZShlLm9mZnNldFgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAidG91Y2hlbmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvdWNoZW5kKGUpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBvZmZzZXRYID0gZ2V0WE9mZnNldE9uVG91Y2hFdmVudChlKTsKICAgICAgICBpZiAob2Zmc2V0WCkgdGhpcy5jb21wbGV0ZShvZmZzZXRYKTsKICAgICAgfQogICAgfQogIH1dLCBbewogICAga2V5OiAiZ2V0Q2xhc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsYXNzKCkgewogICAgICByZXR1cm4gIi5zdGF0ZS1zZWxlY3QiOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEV2ZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RXZlbnRzKCkgewogICAgICByZXR1cm4gWyJtb3VzZWRvd24iLCAibW91c2Vtb3ZlIiwgIm1vdXNldXAiLCAibW91c2VsZWF2ZSIsICJ0b3VjaHN0YXJ0IiwgInRvdWNobW92ZSIsICJ0b3VjaGVuZCJdOwogICAgfQogIH1dKTsKfSgpOwpleHBvcnQgeyBfZGVmYXVsdCBhcyBkZWZhdWx0IH07"},{"version":3,"names":["pixelsToSeconds","getXOffsetOnTouchEvent","_default","track","_classCallCheck","active","_createClass","key","value","setup","samplesPerPixel","sampleRate","emitSelection","x","minX","Math","min","startX","maxX","max","startTime","endTime","ee","emit","complete","mousedown","e","preventDefault","offsetX","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend","getClass","getEvents","default"],"sources":["C:/teste-login/src/track/states/SelectState.js"],"sourcesContent":["import { pixelsToSeconds } from \"../../utils/conversions\";\r\nimport { getXOffsetOnTouchEvent } from \"../../utils/mobiles\";\r\n\r\nexport default class {\r\n  constructor(track) {\r\n    this.track = track;\r\n    this.active = false;\r\n  }\r\n\r\n  setup(samplesPerPixel, sampleRate) {\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n  }\r\n\r\n  emitSelection(x) {\r\n    const minX = Math.min(x, this.startX);\r\n    const maxX = Math.max(x, this.startX);\r\n    const startTime = pixelsToSeconds(\r\n      minX,\r\n      this.samplesPerPixel,\r\n      this.sampleRate\r\n    );\r\n    const endTime = pixelsToSeconds(\r\n      maxX,\r\n      this.samplesPerPixel,\r\n      this.sampleRate\r\n    );\r\n\r\n    this.track.ee.emit(\"select\", startTime, endTime, this.track);\r\n  }\r\n\r\n  complete(x) {\r\n    this.emitSelection(x);\r\n    this.active = false;\r\n  }\r\n\r\n  mousedown(e) {\r\n    e.preventDefault();\r\n    this.active = true;\r\n\r\n    this.startX = e.offsetX;\r\n    const startTime = pixelsToSeconds(\r\n      this.startX,\r\n      this.samplesPerPixel,\r\n      this.sampleRate\r\n    );\r\n\r\n    this.track.ee.emit(\"select\", startTime, startTime, this.track);\r\n  }\r\n\r\n  touchstart(e) {\r\n    e.preventDefault();\r\n    const offsetX = getXOffsetOnTouchEvent(e);\r\n    if (offsetX) {\r\n      this.active = true;\r\n      this.startX = offsetX;\r\n      const startTime = pixelsToSeconds(\r\n        this.startX,\r\n        this.samplesPerPixel,\r\n        this.sampleRate\r\n      );\r\n\r\n      this.track.ee.emit(\"select\", startTime, startTime, this.track);\r\n    }\r\n  }\r\n\r\n  mousemove(e) {\r\n    if (this.active) {\r\n      e.preventDefault();\r\n      this.emitSelection(e.offsetX);\r\n    }\r\n  }\r\n\r\n  touchmove(e) {\r\n    if (this.active) {\r\n      e.preventDefault();\r\n      const offsetX = getXOffsetOnTouchEvent(e);\r\n      if (offsetX) this.emitSelection(offsetX);\r\n    }\r\n  }\r\n\r\n  mouseup(e) {\r\n    if (this.active) {\r\n      e.preventDefault();\r\n      this.complete(e.offsetX);\r\n    }\r\n  }\r\n\r\n  mouseleave(e) {\r\n    if (this.active) {\r\n      e.preventDefault();\r\n      this.complete(e.offsetX);\r\n    }\r\n  }\r\n\r\n  touchend(e) {\r\n    if (this.active) {\r\n      e.preventDefault();\r\n      const offsetX = getXOffsetOnTouchEvent(e);\r\n      if (offsetX) this.complete(offsetX);\r\n    }\r\n  }\r\n\r\n  static getClass() {\r\n    return \".state-select\";\r\n  }\r\n\r\n  static getEvents() {\r\n    return [\r\n      \"mousedown\",\r\n      \"mousemove\",\r\n      \"mouseup\",\r\n      \"mouseleave\",\r\n      \"touchstart\",\r\n      \"touchmove\",\r\n      \"touchend\",\r\n    ];\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}