{"remainingRequest":"C:\\teste-login\\node_modules\\babel-loader\\lib\\index.js!C:\\teste-login\\node_modules\\eslint-loader\\index.js??ref--12-0!C:\\teste-login\\src\\render\\CanvasHook.js","dependencies":[{"path":"C:\\teste-login\\src\\render\\CanvasHook.js","mtime":1712449241403},{"path":"C:\\teste-login\\babel.config.js","mtime":1713903577360},{"path":"C:\\teste-login\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713973011099},{"path":"C:\\teste-login\\node_modules\\babel-loader\\lib\\index.js","mtime":1713973011327},{"path":"C:\\teste-login\\node_modules\\eslint-loader\\index.js","mtime":1713973006832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi90ZXN0ZS1sb2dpbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L3Rlc3RlLWxvZ2luL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7Ci8qDQogKiB2aXJ0dWFsLWRvbSBob29rIGZvciBkcmF3aW5nIHRvIHRoZSBjYW52YXMgZWxlbWVudC4NCiAqLwp2YXIgQ2FudmFzSG9vayA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ2FudmFzSG9vayhwZWFrcywgb2Zmc2V0LCBiaXRzLCBjb2xvciwgc2NhbGUsIGhlaWdodCwgYmFyV2lkdGgsIGJhckdhcCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0hvb2spOwogICAgdGhpcy5wZWFrcyA9IHBlYWtzOwogICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82MDgxNDgzL21heGltdW0tc2l6ZS1vZi1hLWNhbnZhcy1lbGVtZW50CiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDsKICAgIHRoaXMuY29sb3IgPSBjb2xvcjsKICAgIHRoaXMuYml0cyA9IGJpdHM7CiAgICB0aGlzLnNjYWxlID0gc2NhbGU7CiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKICAgIHRoaXMuYmFyV2lkdGggPSBiYXJXaWR0aDsKICAgIHRoaXMuYmFyR2FwID0gYmFyR2FwOwogIH0KICByZXR1cm4gX2NyZWF0ZUNsYXNzKENhbnZhc0hvb2ssIFt7CiAgICBrZXk6ICJob29rIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBob29rKGNhbnZhcywgcHJvcCwgcHJldikgewogICAgICAvLyBjYW52YXMgaXMgdXAgdG8gZGF0ZQogICAgICBpZiAocHJldiAhPT0gdW5kZWZpbmVkICYmIHByZXYucGVha3MgPT09IHRoaXMucGVha3MgJiYgcHJldi5zY2FsZSA9PT0gdGhpcy5zY2FsZSAmJiBwcmV2LmhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZTsKICAgICAgdmFyIGxlbiA9IGNhbnZhcy53aWR0aCAvIHNjYWxlOwogICAgICB2YXIgY2MgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgdmFyIGgyID0gY2FudmFzLmhlaWdodCAvIHNjYWxlIC8gMjsKICAgICAgdmFyIG1heFZhbHVlID0gTWF0aC5wb3coMiwgdGhpcy5iaXRzIC0gMSk7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMuYmFyV2lkdGg7CiAgICAgIHZhciBnYXAgPSB0aGlzLmJhckdhcDsKICAgICAgdmFyIGJhclN0YXJ0ID0gd2lkdGggKyBnYXA7CiAgICAgIGNjLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICBjYy5zYXZlKCk7CiAgICAgIGNjLmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7CiAgICAgIGNjLnNjYWxlKHNjYWxlLCBzY2FsZSk7CiAgICAgIGZvciAodmFyIHBpeGVsID0gMDsgcGl4ZWwgPCBsZW47IHBpeGVsICs9IGJhclN0YXJ0KSB7CiAgICAgICAgdmFyIG1pblBlYWsgPSB0aGlzLnBlYWtzWyhwaXhlbCArIHRoaXMub2Zmc2V0KSAqIDJdIC8gbWF4VmFsdWU7CiAgICAgICAgdmFyIG1heFBlYWsgPSB0aGlzLnBlYWtzWyhwaXhlbCArIHRoaXMub2Zmc2V0KSAqIDIgKyAxXSAvIG1heFZhbHVlOwogICAgICAgIENhbnZhc0hvb2suZHJhd0ZyYW1lKGNjLCBoMiwgcGl4ZWwsIG1pblBlYWssIG1heFBlYWssIHdpZHRoLCBnYXApOwogICAgICB9CiAgICAgIGNjLnJlc3RvcmUoKTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImRyYXdGcmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd0ZyYW1lKGNjLCBoMiwgeCwgbWluUGVhaywgbWF4UGVhaywgd2lkdGgsIGdhcCkgewogICAgICB2YXIgbWluID0gTWF0aC5hYnMobWluUGVhayAqIGgyKTsKICAgICAgdmFyIG1heCA9IE1hdGguYWJzKG1heFBlYWsgKiBoMik7CgogICAgICAvLyBkcmF3IG1heAogICAgICBjYy5maWxsUmVjdCh4LCAwLCB3aWR0aCwgaDIgLSBtYXgpOwogICAgICAvLyBkcmF3IG1pbgogICAgICBjYy5maWxsUmVjdCh4LCBoMiArIG1pbiwgd2lkdGgsIGgyIC0gbWluKTsKICAgICAgLy8gZHJhdyBnYXAKICAgICAgaWYgKGdhcCAhPT0gMCkgewogICAgICAgIGNjLmZpbGxSZWN0KHggKyB3aWR0aCwgMCwgZ2FwLCBoMiAqIDIpOwogICAgICB9CiAgICB9CiAgfV0pOwp9KCk7CmV4cG9ydCBkZWZhdWx0IENhbnZhc0hvb2s7"},{"version":3,"names":["CanvasHook","peaks","offset","bits","color","scale","height","barWidth","barGap","_classCallCheck","_createClass","key","value","hook","canvas","prop","prev","undefined","len","width","cc","getContext","h2","maxValue","Math","pow","gap","barStart","clearRect","save","fillStyle","pixel","minPeak","maxPeak","drawFrame","restore","x","min","abs","max","fillRect"],"sources":["C:/teste-login/src/render/CanvasHook.js"],"sourcesContent":["/*\r\n * virtual-dom hook for drawing to the canvas element.\r\n */\r\nclass CanvasHook {\r\n  constructor(peaks, offset, bits, color, scale, height, barWidth, barGap) {\r\n    this.peaks = peaks;\r\n    // http://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\r\n    this.offset = offset;\r\n    this.color = color;\r\n    this.bits = bits;\r\n    this.scale = scale;\r\n    this.height = height;\r\n    this.barWidth = barWidth;\r\n    this.barGap = barGap;\r\n  }\r\n\r\n  static drawFrame(cc, h2, x, minPeak, maxPeak, width, gap) {\r\n    const min = Math.abs(minPeak * h2);\r\n    const max = Math.abs(maxPeak * h2);\r\n\r\n    // draw max\r\n    cc.fillRect(x, 0, width, h2 - max);\r\n    // draw min\r\n    cc.fillRect(x, h2 + min, width, h2 - min);\r\n    // draw gap\r\n    if (gap !== 0) {\r\n      cc.fillRect(x + width, 0, gap, h2 * 2);\r\n    }\r\n  }\r\n\r\n  hook(canvas, prop, prev) {\r\n    // canvas is up to date\r\n    if (\r\n      prev !== undefined &&\r\n      prev.peaks === this.peaks &&\r\n      prev.scale === this.scale &&\r\n      prev.height === this.height\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const scale = this.scale;\r\n    const len = canvas.width / scale;\r\n    const cc = canvas.getContext(\"2d\");\r\n    const h2 = canvas.height / scale / 2;\r\n    const maxValue = 2 ** (this.bits - 1);\r\n    const width = this.barWidth;\r\n    const gap = this.barGap;\r\n    const barStart = width + gap;\r\n\r\n    cc.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    cc.save();\r\n    cc.fillStyle = this.color;\r\n    cc.scale(scale, scale);\r\n\r\n    for (let pixel = 0; pixel < len; pixel += barStart) {\r\n      const minPeak = this.peaks[(pixel + this.offset) * 2] / maxValue;\r\n      const maxPeak = this.peaks[(pixel + this.offset) * 2 + 1] / maxValue;\r\n      CanvasHook.drawFrame(cc, h2, pixel, minPeak, maxPeak, width, gap);\r\n    }\r\n\r\n    cc.restore();\r\n  }\r\n}\r\n\r\nexport default CanvasHook;\r\n"],"mappings":"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","ignoreList":[]}]}